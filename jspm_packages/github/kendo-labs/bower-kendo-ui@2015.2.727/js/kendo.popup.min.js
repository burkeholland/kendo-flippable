/**
 * Copyright 2015 Telerik AD
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(e,define){define(["./kendo.core.min"],e)}(function(){return function(e){function t(t,n){return t===n||e.contains(t,n)}var n=window.kendo,i=n.ui,o=i.Widget,r=n.support,s=n.getOffset,a="open",l="close",c="deactivate",d="activate",h="center",u="left",f="right",p="top",g="bottom",m="absolute",v="hidden",_="body",w="location",y="position",b="visible",x="effects",k="k-state-active",C="k-state-border",S=/k-state-border-(\w+)/,T=".k-picker-wrap, .k-dropdown-wrap, .k-link",D="down",A=e(document.documentElement),P=e(window),E="scroll",M="resize scroll",I=r.transitions.css,B=I+"transform",z=e.extend,L=".kendoPopup",F=["font-size","font-family","font-stretch","font-style","font-weight","line-height"],R=o.extend({init:function(t,i){var r,s=this;i=i||{},i.isRtl&&(i.origin=i.origin||g+" "+f,i.position=i.position||p+" "+f),o.fn.init.call(s,t,i),t=s.element,i=s.options,s.collisions=i.collision?i.collision.split(" "):[],s.downEvent=n.applyEventMap(D,n.guid()),1===s.collisions.length&&s.collisions.push(s.collisions[0]),r=e(s.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])"),i.appendTo=e(e(i.appendTo)[0]||r[0]||_),s.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!i.isRtl).css({position:m}).appendTo(i.appendTo).on("mouseenter"+L,function(){s._hovered=!0}).on("mouseleave"+L,function(){s._hovered=!1}),s.wrapper=e(),i.animation===!1&&(i.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),z(i.animation.open,{complete:function(){s.wrapper.css({overflow:b}),s._activated=!0,s._trigger(d)}}),z(i.animation.close,{complete:function(){s._animationClose()}}),s._mousedownProxy=function(e){s._mousedown(e)},s._resizeProxy=function(e){s._resize(e)},i.toggleTarget&&e(i.toggleTarget).on(i.toggleEvent+L,e.proxy(s.toggle,s))},events:[a,d,l,c],options:{name:"Popup",toggleEvent:"click",origin:g+" "+u,position:p+" "+u,anchor:_,appendTo:null,collision:"flip fit",viewport:window,copyAnchorStyles:!0,autosize:!1,modal:!1,adjustSize:{width:0,height:0},animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},_animationClose:function(){var t,i,o,r,s=this,a=s.options;s.wrapper.hide(),t=s.wrapper.data(w),i=e(a.anchor),t&&s.wrapper.css(t),a.anchor!=_&&(o=((i.attr("class")||"").match(S)||["","down"])[1],r=C+"-"+o,i.removeClass(r).children(T).removeClass(k).removeClass(r),s.element.removeClass(C+"-"+n.directions[o].reverse)),s._closing=!1,s._trigger(c)},destroy:function(){var t,i=this,r=i.options,s=i.element.off(L);o.fn.destroy.call(i),r.toggleTarget&&e(r.toggleTarget).off(L),r.modal||(A.unbind(i.downEvent,i._mousedownProxy),i._scrollableParents().unbind(E,i._resizeProxy),P.unbind(M,i._resizeProxy)),n.destroy(i.element.children()),s.removeData(),r.appendTo[0]===document.body&&(t=s.parent(".k-animation-container"),t[0]?t.remove():s.remove())},open:function(t,i){var o,s,l,c=this,d={isFixed:!isNaN(parseInt(i,10)),x:t,y:i},h=c.element,u=c.options,f="down",g=e(u.anchor),w=h[0]&&h.hasClass("km-widget");if(!c.visible()){if(u.copyAnchorStyles&&(w&&"font-size"==F[0]&&F.shift(),h.css(n.getComputedStyles(g[0],F))),h.data("animating")||c._trigger(a))return;c._activated=!1,u.modal||(A.unbind(c.downEvent,c._mousedownProxy).bind(c.downEvent,c._mousedownProxy),r.mobileOS.ios||r.mobileOS.android||(c._scrollableParents().unbind(E,c._resizeProxy).bind(E,c._resizeProxy),P.unbind(M,c._resizeProxy).bind(M,c._resizeProxy))),c.wrapper=s=n.wrap(h,u.autosize).css({overflow:v,display:"block",position:m}),r.mobileOS.android&&s.css(B,"translatez(0)"),s.css(y),e(u.appendTo)[0]==document.body&&s.css(p,"-10000px"),o=z(!0,{},u.animation.open),c.flipped=c._position(d),o.effects=n.parseEffects(o.effects,c.flipped),f=o.effects.slideIn?o.effects.slideIn.direction:f,u.anchor!=_&&(l=C+"-"+f,h.addClass(C+"-"+n.directions[f].reverse),g.addClass(l).children(T).addClass(k).addClass(l)),h.data(x,o.effects).kendoStop(!0).kendoAnimate(o)}},position:function(){this.visible()&&this._position()},toggle:function(){var e=this;e[e.visible()?l:a]()},visible:function(){return this.element.is(":"+b)},close:function(t){var i,o,r,s,a=this,c=a.options;if(a.visible()){if(i=a.wrapper[0]?a.wrapper:n.wrap(a.element).hide(),a._closing||a._trigger(l))return;a.element.find(".k-popup").each(function(){var n=e(this),i=n.data("kendoPopup");i&&i.close(t)}),A.unbind(a.downEvent,a._mousedownProxy),a._scrollableParents().unbind(E,a._resizeProxy),P.unbind(M,a._resizeProxy),t?o={hide:!0,effects:{}}:(o=z(!0,{},c.animation.close),r=a.element.data(x),s=o.effects,!s&&!n.size(s)&&r&&n.size(r)&&(o.effects=r,o.reverse=!0),a._closing=!0),a.element.kendoStop(!0),i.css({overflow:v}),a.element.kendoAnimate(o)}},_trigger:function(e){return this.trigger(e,{type:e})},_resize:function(e){var t=this;"resize"===e.type?(clearTimeout(t._resizeTimeout),t._resizeTimeout=setTimeout(function(){t._position(),t._resizeTimeout=null},50)):(!t._hovered||t._activated&&t.element.hasClass("k-list-container"))&&t.close()},_mousedown:function(i){var o=this,r=o.element[0],s=o.options,a=e(s.anchor)[0],l=s.toggleTarget,c=n.eventTarget(i),d=e(c).closest(".k-popup"),h=d.parent().parent(".km-shim").length;d=d[0],(h||!d||d===o.element[0])&&"popover"!==e(i.target).closest("a").data("rel")&&(t(r,c)||t(a,c)||l&&t(e(l)[0],c)||o.close())},_fit:function(e,t,n){var i=0;return e+t>n&&(i=n-(e+t)),0>e&&(i=-e),i},_flip:function(e,t,n,i,o,r,s){var a=0;return s=s||t,r!==o&&r!==h&&o!==h&&(e+s>i&&(a+=-(n+t)),0>e+a&&(a+=n+t)),a},_scrollableParents:function(){return e(this.options.anchor).parentsUntil("body").filter(function(e,t){return n.isScrollable(t)})},_position:function(t){var i,o,a,l,c,d,h,u,f,p,g,v=this,_=v.element,b=v.wrapper,x=v.options,k=e(x.viewport),C=k.offset(),S=e(x.anchor),T=x.origin.toLowerCase().split(" "),D=x.position.toLowerCase().split(" "),A=v.collisions,P=r.zoomLevel(),E=10002,M=!!(k[0]==window&&window.innerWidth&&1.02>=P),I=0,B=document.documentElement,L=M?window.innerWidth:k.width(),F=M?window.innerHeight:k.height();if(M&&B.scrollHeight-B.clientHeight>0&&(L-=n.support.scrollbar()),i=S.parents().filter(b.siblings()),i[0])if(a=Math.max(+i.css("zIndex"),0))E=a+10;else for(o=S.parentsUntil(i),l=o.length;l>I;I++)a=+e(o[I]).css("zIndex"),a&&a>E&&(E=a+10);return b.css("zIndex",E),b.css(t&&t.isFixed?{left:t.x,top:t.y}:v._align(T,D)),c=s(b,y,S[0]===b.offsetParent()[0]),d=s(b),h=S.offsetParent().parent(".k-animation-container,.k-popup,.k-group"),h.length&&(c=s(b,y,!0),d=s(b)),k[0]===window?(d.top-=window.pageYOffset||document.documentElement.scrollTop||0,d.left-=window.pageXOffset||document.documentElement.scrollLeft||0):(d.top-=C.top,d.left-=C.left),v.wrapper.data(w)||b.data(w,z({},c)),u=z({},d),f=z({},c),p=x.adjustSize,"fit"===A[0]&&(f.top+=v._fit(u.top,b.outerHeight()+p.height,F/P)),"fit"===A[1]&&(f.left+=v._fit(u.left,b.outerWidth()+p.width,L/P)),g=z({},f),"flip"===A[0]&&(f.top+=v._flip(u.top,_.outerHeight(),S.outerHeight(),F/P,T[0],D[0],b.outerHeight())),"flip"===A[1]&&(f.left+=v._flip(u.left,_.outerWidth(),S.outerWidth(),L/P,T[1],D[1],b.outerWidth())),_.css(y,m),b.css(f),f.left!=g.left||f.top!=g.top},_align:function(t,n){var i,o=this,r=o.wrapper,a=e(o.options.anchor),l=t[0],c=t[1],d=n[0],u=n[1],p=s(a),m=e(o.options.appendTo),v=r.outerWidth(),_=r.outerHeight(),w=a.outerWidth(),y=a.outerHeight(),b=p.top,x=p.left,k=Math.round;return m[0]!=document.body&&(i=s(m),b-=i.top,x-=i.left),l===g&&(b+=y),l===h&&(b+=k(y/2)),d===g&&(b-=_),d===h&&(b-=k(_/2)),c===f&&(x+=w),c===h&&(x+=k(w/2)),u===f&&(x-=v),u===h&&(x-=k(v/2)),{top:b,left:x}}});i.plugin(R)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t){t()});